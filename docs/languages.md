https://www.perplexity.ai/search/neobkhodimo-po-funktsii-oprede-JBloYIYSRk6EIX3YQzk41w

2. Использование готовых библиотек

Если вам нужна высокая точность (особенно для коротких или неоднозначных фрагментов), лучше использовать специализированные библиотеки, которые уже обучены на миллионах строк кода.

    Guesslang: Мощная библиотека на основе TensorFlow (Deep Learning). Она "читает" код как текст и определяет язык с точностью выше 90%.​

        Плюс: Очень точная, даже на "грязном" коде.

        Минус: Тяжелая, требует установки TensorFlow.

    Enry: Библиотека, которую использует GitHub для определения языков в репозиториях. Написана на Go, но имеет порты.​

    Pygments: Популярная библиотека для подсветки синтаксиса (на Python). Можно использовать её лексеры: попытаться "прочитать" код разными лексерами и посмотреть, какой из них выдаст меньше всего ошибок токенизации.​

3. Машинное обучение (Naive Bayes)

Если вы не можете использовать готовые тяжелые библиотеки, можно обучить простейший классификатор (например, Naive Bayes).​

    Сбор данных: Взять по 100-200 файлов кода на каждом из 5 языков с GitHub.

    Обучение: Использовать "мешок слов" (Bag of Words) или N-граммы символов.

    Результат: Модель научится понимать, что сочетание {, public, void — это скорее Java/C#, а def, self — это Python, даже если явных ключевых слов нет.

Рекомендация

Для вашей задачи (всего 5 языков) лучше всего начать с эвристического метода (вариант 1). Он работает мгновенно, не требует сложных зависимостей и легко покрывает 95% случаев, если функции стандартные. Переходите к библиотекам, только если эвристика начнет ошибаться на сложных примерах.